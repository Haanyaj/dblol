{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Haan\\\\Documents\\\\reactlol\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Haan\\\\Documents\\\\reactlol\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"C:\\\\Users\\\\Haan\\\\Documents\\\\reactlol\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{Card,Container}from'@material-ui/core';import React,{useState,useEffect}from'react';import Page from'../Page';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import{API_KEY}from'./const';import{TrainRounded}from'@material-ui/icons';var SummonerRow=function SummonerRow(_ref){var joueur=_ref.joueur,name=_ref.name,region=_ref.region;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),summonerData=_useState2[0],setSummonerData=_useState2[1];useEffect(function(){var fetchSummoner=function fetchSummoner(){var response,data,summon_id,fetchSummonerData,fetchIG;return _regeneratorRuntime.async(function fetchSummoner$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _regeneratorRuntime.awrap(fetch(\"https://\".concat(region,\".api.riotgames.com/lol/summoner/v4/summoners/by-name/\").concat(name).concat(API_KEY)));case 3:response=_context3.sent;_context3.next=6;return _regeneratorRuntime.awrap(response.json());case 6:data=_context3.sent;summon_id=data.id;fetchSummonerData=function fetchSummonerData(){var _response,res;return _regeneratorRuntime.async(function fetchSummonerData$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(fetch(\"https://\".concat(region,\".api.riotgames.com/lol/league/v4/entries/by-summoner/\").concat(summon_id).concat(API_KEY)));case 3:_response=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(_response.json());case 6:res=_context.sent;if(res[0].queueType==\"RANKED_FLEX_SR\"){setSummonerData(res[1]);}else{setSummonerData(res[0]);}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}}},null,null,[[0,10]]);};fetchIG=function fetchIG(){var _response2,dat;return _regeneratorRuntime.async(function fetchIG$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(fetch(\"https://\".concat(region,\".api.riotgames.com/lol/spectator/v4/active-games/by-summoner/\").concat(summon_id).concat(API_KEY)));case 3:_response2=_context2.sent;_context2.next=6;return _regeneratorRuntime.awrap(dat.json());case 6:dat=_context2.sent;setSummonerData(function(prevState){return _objectSpread({},prevState,{veteran:true});});console.log(summonerData);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);setSummonerData(function(prevState){return _objectSpread({},prevState,{veteran:false});});case 15:case\"end\":return _context2.stop();}}},null,null,[[0,11]]);};fetchSummonerData();fetchIG();_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);console.error(_context3.t0);case 17:case\"end\":return _context3.stop();}}},null,null,[[0,14]]);};fetchSummoner();},[name]);var rankImg=\"/dblol/img/\".concat(summonerData.tier,\".png\");return React.createElement(TableRow,{sx:{'td, th':{border:0,color:'white'}}},React.createElement(TableCell,{component:\"th\",scope:\"row\"},joueur),React.createElement(TableCell,{align:\"right\"},name),React.createElement(TableCell,{align:\"right\"},\" \",React.createElement(\"img\",{src:rankImg,style:{height:'1.5rem',marginRight:'0.5rem'}}),summonerData===null||summonerData===void 0?void 0:summonerData.tier,\" \",summonerData===null||summonerData===void 0?void 0:summonerData.rank),React.createElement(TableCell,{align:\"right\"},summonerData===null||summonerData===void 0?void 0:summonerData.wins),React.createElement(TableCell,{align:\"right\"},summonerData===null||summonerData===void 0?void 0:summonerData.losses),React.createElement(TableCell,{align:\"right\"},summonerData===null||summonerData===void 0?void 0:summonerData.leaguePoints),React.createElement(TableCell,{align:\"right\"},summonerData.veteran==true?React.createElement(\"a\",{href:\"https://\".concat(region.slice(0,-1),\".op.gg/summoner/userName=\").concat(name,\"/ingame\"),className:\"playing-link\",target:\"_blank\",rel:\"noopener noreferrer\"},\"Playing\"):\"Off\"));};var Home=function Home(){var players=[{joueur:\"Alvyn\",name:\"IvanJBCK\",region:\"euw1\"},{joueur:\"Victor\",name:\"Treqz\",region:\"na1\"},{joueur:\"C\",name:\"Tseng45\",region:\"euw1\"}];return React.createElement(Page,{title:\"DB Ranking\"},React.createElement(Container,null,React.createElement(TableContainer,{component:Paper},React.createElement(Table,{sx:{minWidth:650,bgcolor:'#2F4F4F'},\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,{sx:{color:'white'}},\"Player\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"Summoner Name\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"Rank\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"W\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"L\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"LP\"),React.createElement(TableCell,{sx:{color:'white'},align:\"right\"},\"InGame\"))),React.createElement(TableBody,null,players.map(function(players){return React.createElement(SummonerRow,{key:players.name,name:players.name,joueur:players.joueur,region:players.region});}))))));};export default Home;","map":{"version":3,"sources":["C:/Users/Haan/Documents/reactlol/src/components/Pages/Home.js"],"names":["Card","Container","React","useState","useEffect","Page","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","API_KEY","TrainRounded","SummonerRow","joueur","name","region","summonerData","setSummonerData","fetchSummoner","fetch","response","json","data","summon_id","id","fetchSummonerData","res","queueType","console","error","fetchIG","dat","prevState","veteran","log","rankImg","tier","border","color","height","marginRight","rank","wins","losses","leaguePoints","slice","Home","players","minWidth","bgcolor","map"],"mappings":"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","sourcesContent":["import { Card, Container } from '@material-ui/core';\nimport React, { useState, useEffect } from 'react';\nimport Page from '../Page';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { API_KEY } from './const';\nimport { TrainRounded } from '@material-ui/icons';\n\nconst SummonerRow = ({joueur, name, region }) => {\n  const [summonerData, setSummonerData] = useState({});\n\n  useEffect(() => {\n    const fetchSummoner = async () => {\n      try {\n        const response = await fetch(`https://${region}.api.riotgames.com/lol/summoner/v4/summoners/by-name/${name}${API_KEY}`);\n        const data = await response.json();\n        const summon_id = data.id;\n        const fetchSummonerData = async () => {\n          try {\n            const response = await fetch(`https://${region}.api.riotgames.com/lol/league/v4/entries/by-summoner/${summon_id}${API_KEY}`);\n            const res = await response.json();\n            if (res[0].queueType ==  \"RANKED_FLEX_SR\") {\n                setSummonerData(res[1]);\n            } else {\n                setSummonerData(res[0]);\n            }\n          } catch (error) {\n            console.error(error);\n          }\n        };\n        const fetchIG = async () => {\n          try {\n            const response = await fetch(`https://${region}.api.riotgames.com/lol/spectator/v4/active-games/by-summoner/${summon_id}${API_KEY}`);\n            const dat = await dat.json();\n            setSummonerData(prevState => ({...prevState, veteran: true}));\n            console.log(summonerData)\n            \n          } catch (error) {\n            console.error(error);\n            setSummonerData(prevState => ({...prevState, veteran: false}));\n          }\n        };\n        fetchSummonerData();\n        fetchIG();\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchSummoner();\n  }, [name]);\n\n  const rankImg = `/dblol/img/${summonerData.tier}.png`;\n\n  return (\n    <TableRow sx={{ 'td, th': { border: 0, color: 'white' } }}>\n      <TableCell component=\"th\" scope=\"row\">\n        {joueur}\n      </TableCell>\n      <TableCell align=\"right\">{name}</TableCell>\n      <TableCell align=\"right\"> {<img src={rankImg}  style={{ height: '1.5rem', marginRight: '0.5rem' }} />}{summonerData?.tier} {summonerData?.rank}</TableCell>\n      <TableCell align=\"right\">{summonerData?.wins}</TableCell>\n      <TableCell align=\"right\">{summonerData?.losses}</TableCell>\n      <TableCell align=\"right\">{summonerData?.leaguePoints}</TableCell>\n      <TableCell align=\"right\">{summonerData.veteran == true? (<a href={`https://${region.slice(0, -1)}.op.gg/summoner/userName=${name}/ingame`} className=\"playing-link\" target=\"_blank\" rel=\"noopener noreferrer\">Playing</a>) : \"Off\"}</TableCell>\n    </TableRow>\n  );\n};\n\nconst Home = () => {\n  const players = [\n    { joueur: \"Alvyn\", name: \"IvanJBCK\", region: \"euw1\" },\n    { joueur: \"Victor\", name: \"Treqz\", region: \"na1\"  },\n    { joueur: \"C\", name: \"Tseng45\" , region: \"euw1\" },\n  ];\n  \n\n  return (\n    <Page title=\"DB Ranking\">\n      <Container>\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650, bgcolor: '#2F4F4F' }} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell sx={{ color: 'white' }}>Player</TableCell>\n                <TableCell sx={{ color: 'white' }} align=\"right\">Summoner Name</TableCell>\n                <TableCell sx={{ color: 'white' }} align=\"right\">Rank</TableCell>\n                <TableCell sx={{ color: 'white' }} align=\"right\">W</TableCell>\n                <TableCell sx={{ color: 'white' }} align=\"right\">L</TableCell>\n                <TableCell sx={{ color: 'white' }} align=\"right\">LP</TableCell>                \n                <TableCell sx={{ color: 'white' }} align=\"right\">InGame</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {players.map((players) => (\n                <SummonerRow key={players.name} name={players.name} joueur= {players.joueur} region = {players.region}/>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Container>\n    </Page>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}